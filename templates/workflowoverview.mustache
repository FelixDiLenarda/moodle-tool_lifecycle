{{!
    This file is part of Moodle - https://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template plugintype_pluginname/template_name

    Template purpose and description.

    Classes required for JS:
    * none

    Data attributes required for JS:
    * none

    Context variables required for this template:
    * none

    Example context (json):
    {
    }
}}
<div class="d-flex" id="lifecycle-workflow-details">
    <div class="wf-wrapper">
        <div class="wf-trigger-block workflow-item">
            <h5 class="my-2">{{#str}} trigger, tool_lifecycle{{/str}}</h5>
            <div class="mb-2">
                {{#str}} courses_triggered, tool_lifecycle, {{coursestriggered}} {{/str}}<br>
                {{#str}} courses_excluded, tool_lifecycle, {{coursesexcluded}} {{/str}}<br>
                {{#str}} courses_size, tool_lifecycle, {{coursesetsize}} {{/str}}
            </div>
            <div class="workflow wf-trigger-wrapper">
                {{#trigger}}
                    <div class="workflow-trigger">
                        <div class="wf-header">
                            <div class="wf-header-text">
                                <span>{{instancename}}</span><br>
                                <span class="text-muted" style="font-size: 0.9em">{{subpluginname}}</span>
                            </div>
                            <div class="wf-actionmenu">
                                {{{ actionmenu }}}
                            </div>
                        </div>
                        <div class="wf-content">
                            <span>Courses triggered: {{triggeredcourses}} </span><br>
                            <span>Courses excluded: {{excludedcourses}} </span>
                        </div>
                    </div>
                {{/trigger}}
            </div>
        </div>
        {{#steps}}
            <div class="wf-arrow"></div>
            <div class="workflow-step workflow-item {{#selected}}wf-selected{{/selected}}">
                <div class="wf-header">
                    <div class="wf-header-text">
                        <span>{{instancename}}</span><br>
                        <span class="text-muted" style="font-size: 0.9em">{{subpluginname}}</span>
                    </div>
                    <div class="wf-actionmenu">
                        {{{ actionmenu }}}
                    </div>
                </div>
                <div class="wf-content">
                    <a href="{{nosteplink}}&step={{id}}">{{icon}}{{name}}
                    {{#str}} courses {{/str}}: {{numberofcourses}}
                    </a>
                </div>
            </div>
        {{/steps}}
    </div>
{{# table }}
    <div class="courses-table">
        <div class="bar">
            <a class="close-button" href="{{nosteplink}}">Ã—</a>
        </div>
        {{{ table }}}
    </div>
{{/table}}
</div>